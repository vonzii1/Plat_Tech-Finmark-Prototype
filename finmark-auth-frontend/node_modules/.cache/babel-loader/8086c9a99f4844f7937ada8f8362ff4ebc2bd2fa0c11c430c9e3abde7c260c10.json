{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\User\\\\OneDrive\\\\Vonne Personal\\\\Plat_Tech-Finmark-Prototype\\\\finmark-auth-frontend\\\\src\\\\components\\\\dashboard\\\\Dashboard.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useAuth } from '../../contexts/AuthContext';\nimport { Package, ShoppingCart, DollarSign, TrendingUp, Calendar, User } from 'lucide-react';\nimport axios from 'axios';\nimport LoadingSpinner from '../common/LoadingSpinner';\nimport AdminDashboard from './AdminDashboard';\nimport StaffDashboard from './StaffDashboard';\nimport CustomerDashboard from './CustomerDashboard';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Dashboard = () => {\n  _s();\n  const {\n    user\n  } = useAuth();\n  const [stats, setStats] = useState(null);\n  const [loading, setLoading] = useState(true);\n  useEffect(() => {\n    const fetchStats = async () => {\n      try {\n        const [ordersResponse, productsResponse, usersResponse] = await Promise.all([axios.get('/api/orders/stats'), axios.get('/api/products'), axios.get('/api/users')]);\n        setStats({\n          orders: ordersResponse.data.data,\n          products: productsResponse.data.data.products,\n          users: usersResponse.data.users\n        });\n      } catch (error) {\n        console.error('Error fetching dashboard stats:', error);\n      } finally {\n        setLoading(false);\n      }\n    };\n    fetchStats();\n  }, []);\n  const getGreeting = () => {\n    const hour = new Date().getHours();\n    if (hour < 12) return 'Good morning';\n    if (hour < 18) return 'Good afternoon';\n    return 'Good evening';\n  };\n  const getRoleLabel = role => {\n    switch (role) {\n      case 'user':\n        return 'Customer';\n      case 'admin':\n        return 'Admin';\n      case 'manager':\n        return 'Staff';\n      default:\n        return 'Customer';\n    }\n  };\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-center justify-center min-h-screen\",\n      children: /*#__PURE__*/_jsxDEV(LoadingSpinner, {\n        size: \"xl\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }, this);\n  }\n  if (!user) return null;\n  switch (user.role) {\n    case 'admin':\n      return /*#__PURE__*/_jsxDEV(AdminDashboard, {\n        user: user,\n        stats: stats\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 14\n      }, this);\n    case 'manager':\n      return /*#__PURE__*/_jsxDEV(StaffDashboard, {\n        user: user\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 14\n      }, this);\n    case 'user':\n    default:\n      return /*#__PURE__*/_jsxDEV(CustomerDashboard, {\n        user: user\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 14\n      }, this);\n  }\n};\n_s(Dashboard, \"5oDpyjbHAsuLdsZd4zVcW7uZ598=\", false, function () {\n  return [useAuth];\n});\n_c = Dashboard;\nexport default Dashboard;\nvar _c;\n$RefreshReg$(_c, \"Dashboard\");","map":{"version":3,"names":["React","useState","useEffect","useAuth","Package","ShoppingCart","DollarSign","TrendingUp","Calendar","User","axios","LoadingSpinner","AdminDashboard","StaffDashboard","CustomerDashboard","jsxDEV","_jsxDEV","Dashboard","_s","user","stats","setStats","loading","setLoading","fetchStats","ordersResponse","productsResponse","usersResponse","Promise","all","get","orders","data","products","users","error","console","getGreeting","hour","Date","getHours","getRoleLabel","role","className","children","size","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/User/OneDrive/Vonne Personal/Plat_Tech-Finmark-Prototype/finmark-auth-frontend/src/components/dashboard/Dashboard.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useAuth } from '../../contexts/AuthContext';\nimport { \n  Package, \n  ShoppingCart, \n  DollarSign, \n  TrendingUp,\n  Calendar,\n  User\n} from 'lucide-react';\nimport axios from 'axios';\nimport LoadingSpinner from '../common/LoadingSpinner';\nimport AdminDashboard from './AdminDashboard';\nimport StaffDashboard from './StaffDashboard';\nimport CustomerDashboard from './CustomerDashboard';\n\nconst Dashboard = () => {\n  const { user } = useAuth();\n  const [stats, setStats] = useState(null);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    const fetchStats = async () => {\n      try {\n        const [ordersResponse, productsResponse, usersResponse] = await Promise.all([\n          axios.get('/api/orders/stats'),\n          axios.get('/api/products'),\n          axios.get('/api/users')\n        ]);\n\n        setStats({\n          orders: ordersResponse.data.data,\n          products: productsResponse.data.data.products,\n          users: usersResponse.data.users\n        });\n      } catch (error) {\n        console.error('Error fetching dashboard stats:', error);\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchStats();\n  }, []);\n\n  const getGreeting = () => {\n    const hour = new Date().getHours();\n    if (hour < 12) return 'Good morning';\n    if (hour < 18) return 'Good afternoon';\n    return 'Good evening';\n  };\n\n  const getRoleLabel = (role) => {\n    switch (role) {\n      case 'user': return 'Customer';\n      case 'admin': return 'Admin';\n      case 'manager': return 'Staff';\n      default: return 'Customer';\n    }\n  };\n\n  if (loading) {\n    return (\n      <div className=\"flex items-center justify-center min-h-screen\">\n        <LoadingSpinner size=\"xl\" />\n      </div>\n    );\n  }\n\n  if (!user) return null;\n  switch (user.role) {\n    case 'admin':\n      return <AdminDashboard user={user} stats={stats} />;\n    case 'manager':\n      return <StaffDashboard user={user} />;\n    case 'user':\n    default:\n      return <CustomerDashboard user={user} />;\n  }\n};\n\nexport default Dashboard; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}